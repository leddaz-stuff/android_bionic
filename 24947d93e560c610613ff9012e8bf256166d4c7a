{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "7b99abcd_e522b477",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1229339
      },
      "writtenOn": "2023-06-16T20:30:18Z",
      "side": 1,
      "message": "I verified that the two branches had the same declarations.\n\nI noticed that the list of #defines doesn\u0027t match the list of declarations. Some of the defines are renaming ns_* functions that aren\u0027t in the map file (ns_samedomain), and some of them rename functions that aren\u0027t defined at all (ns_verify). Maybe we updated the code and didn\u0027t update our declarations to match.\n\nMaybe we rename functions we aren\u0027t declaring/exporting, for consistency?",
      "revId": "24947d93e560c610613ff9012e8bf256166d4c7a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6b7391c9_c06a1e6a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1229339
      },
      "writtenOn": "2023-06-16T20:42:14Z",
      "side": 1,
      "message": "https://android-review.git.corp.google.com/c/platform/bionic/+/220287 removed some of the non-existent declarations (but left the #defines there).\n\nFor ns_samedomain (and a few others), I\u0027m guessing we don\u0027t define `_LIBRESOLV` so the functions are present in the codebase but not compiled into our libc.",
      "parentUuid": "7b99abcd_e522b477",
      "revId": "24947d93e560c610613ff9012e8bf256166d4c7a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fafc4508_9312b4cd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1229339
      },
      "writtenOn": "2023-06-16T20:47:28Z",
      "side": 1,
      "message": "It looks like these APIs (`*ns_*` in libc.so) actually *aren\u0027t* present in API 21 at all (tested on 32-bit Nexus 7, 32/64-bit Nexus 9 flounder, 32/64-bit emulator). They do appear in the API 22 emulator.\n\nIt seems the map file is wrong for the 32-bit architectures, and the declarations were also wrong to use a different API for 32-vs-64-bit.",
      "revId": "24947d93e560c610613ff9012e8bf256166d4c7a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}