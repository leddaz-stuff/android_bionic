{
  "comments": [
    {
      "key": {
        "uuid": "14380ca4_e568581f",
        "filename": "tests/Android.build.prebuilt.mk",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2019-01-30T18:58:39Z",
      "side": 1,
      "message": "Normally these would come from the defaults LOCAL_SYSTEM_SHARED_LIBRARIES -- apparently BUILD_PREBUILT isn\u0027t adding those in this case?",
      "range": {
        "startLine": 23,
        "startChar": 0,
        "endLine": 23,
        "endChar": 22
      },
      "revId": "e87c344bcc9d5f34581529b52f237620c9070a8b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5767116d_7ca30843",
        "filename": "tests/Android.build.prebuilt.mk",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1014807
      },
      "writtenOn": "2019-01-31T03:11:07Z",
      "side": 1,
      "message": "There are two cases.  If LOCAL_STRIP_MODULE is not empty, dynamic_binary.mk is included and these shared libs are added by LOCAL_SYSTEM_SHARED_LIBRARIES[1].  If LOCAL_STRIP_MODULE is empty, base_rules.mk is included and these shared libs are missing in this case[2].\n\nIf I set LOCAL_STRIP_MODULE to keep_symbols, then LOCAL_SHARED_LIBRARIES can be ignored.\n\nAlternatively, I can replicate the logic for LOCAL_SYSTEM_SHARED_LIBRARIES in that case.  How do you think?\n\n[1] https://android.googlesource.com/platform/build/+/0e53d887d6cf33adf4051d1e6c6e6476eb81d19c/core/prebuilt_internal.mk#121\n[2] https://android.googlesource.com/platform/build/+/0e53d887d6cf33adf4051d1e6c6e6476eb81d19c/core/prebuilt_internal.mk#126",
      "parentUuid": "14380ca4_e568581f",
      "range": {
        "startLine": 23,
        "startChar": 0,
        "endLine": 23,
        "endChar": 22
      },
      "revId": "e87c344bcc9d5f34581529b52f237620c9070a8b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9602e76c_21a1bcde",
        "filename": "tests/Android.build.prebuilt.mk",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1014807
      },
      "writtenOn": "2019-01-31T06:36:03Z",
      "side": 1,
      "message": "I\u0027ve uploaded an alternative CL to ensure all paths in prebuilt_internal.mk have the same behavior regarding to system shared libs.  PTAL:\n\nhttps://android-review.googlesource.com/c/platform/build/+/891153",
      "parentUuid": "5767116d_7ca30843",
      "range": {
        "startLine": 23,
        "startChar": 0,
        "endLine": 23,
        "endChar": 22
      },
      "revId": "e87c344bcc9d5f34581529b52f237620c9070a8b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "18a373b2_0150f3b7",
        "filename": "tests/Android.build.prebuilt.mk",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1014807
      },
      "writtenOn": "2019-02-06T14:02:50Z",
      "side": 1,
      "message": "Hi Dan,\n\nThere is a path in BUILD_PREBUILT that don\u0027t add libc/libdl/libm by default.  I tried to fix it in aosp/891153.  How do you think?\n\nIf we can fix it there, this CL will no longer be necessary.  If it is preferred to keep the build system as-is, I think this CL would be necessary.",
      "parentUuid": "9602e76c_21a1bcde",
      "range": {
        "startLine": 23,
        "startChar": 0,
        "endLine": 23,
        "endChar": 22
      },
      "revId": "e87c344bcc9d5f34581529b52f237620c9070a8b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}