{
  "comments": [
    {
      "key": {
        "uuid": "1929a3d4_827584b0",
        "filename": "libc/stdlib/atexit.c",
        "patchSetId": 2
      },
      "lineNbr": 83,
      "author": {
        "id": 1630289
      },
      "writtenOn": "2020-01-26T20:15:08Z",
      "side": 1,
      "message": "Actually, reusing NULL records I introduced here can be replaced with a modification to the \u0027ind\u0027 field of a first page in the list.\n\nThis logic I wrote potentially goes through all pages, and it made sense before writing the whole page un-mapping in __cxa_finalize. But with that in place we can be certain that there is at least one non-null record on the first page of the list. (if there weren\u0027t it would have been un-mapped). Hence - we will never go to the second or later pages.\n\nSo I\u0027, giving myself -1 and will write another patchset soon.",
      "revId": "735e1712d8c29e0eeede14a55affdc292ee1e02e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0de7a47_0cfb4f79",
        "filename": "libc/stdlib/atexit.c",
        "patchSetId": 2
      },
      "lineNbr": 83,
      "author": {
        "id": 1630289
      },
      "writtenOn": "2020-01-27T10:44:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1929a3d4_827584b0",
      "revId": "735e1712d8c29e0eeede14a55affdc292ee1e02e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d5e73b57_ce1d6d8d",
        "filename": "libc/stdlib/atexit.c",
        "patchSetId": 2
      },
      "lineNbr": 103,
      "author": {
        "id": 1630289
      },
      "writtenOn": "2020-01-24T17:22:42Z",
      "side": 1,
      "message": "As in the comment above I keep away from this \u0027cleanup function\u0027, but I can\u0027t really find it. All I see is one zero-filled record that doesn\u0027t seem to be used for anything. (line 144)\n\nIs it still there somewhere or am I looking at some old \u0027code residue\u0027?",
      "range": {
        "startLine": 103,
        "startChar": 31,
        "endLine": 103,
        "endChar": 62
      },
      "revId": "735e1712d8c29e0eeede14a55affdc292ee1e02e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1c2adf06_acb1cfb6",
        "filename": "libc/stdlib/atexit.c",
        "patchSetId": 2
      },
      "lineNbr": 103,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2020-01-24T22:04:17Z",
      "side": 1,
      "message": "yeah, OpenBSD has an additional __atexit_register_cleanup() that their stdio implementation uses to clean up. we have the explicit call to __libc_stdio_cleanup() at the end of __cxa_finalize() instead. (we\u0027ve never tried to keep static binary size down, since static binaries aren\u0027t an important use case for us.)\n\nat some point we should probably throw out this whole file and start again!",
      "parentUuid": "d5e73b57_ce1d6d8d",
      "range": {
        "startLine": 103,
        "startChar": 31,
        "endLine": 103,
        "endChar": 62
      },
      "revId": "735e1712d8c29e0eeede14a55affdc292ee1e02e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}