{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "27e6cc09_54248698",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 12,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2023-11-28T00:48:43Z",
      "side": 1,
      "message": "(excellent choice, which resolves the main concern i was expecting to have before i\u0027ve even seen any of the code :-) )",
      "revId": "c91e4312d4dc6353ab4309429e31f002b5407ab9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3c82b817_d1c402dc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1954524
      },
      "writtenOn": "2023-11-28T01:27:31Z",
      "side": 1,
      "message": "I may miss something and I\u0027m wondering that if we ensure that mallopt(M_LOG_STATS, 0) won\u0027t trigger any signal, is it safe to do that in the signal handler?",
      "revId": "c91e4312d4dc6353ab4309429e31f002b5407ab9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9d077b31_f00aa9d8",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2023-11-28T01:44:07Z",
      "side": 1,
      "message": "almost nothing is guaranteed safe in a signal handler, and it\u0027s basically impossible to enforce that you don\u0027t accidentally change that (either in the caller or the callee). the only 100% safe option for a signal handler is \"set some atomic flag, deal with it later\". (of course, in real life you can get away with amazing amounts of stuff, most of the time. but \"hope is not a strategy\" :-) )",
      "parentUuid": "3c82b817_d1c402dc",
      "revId": "c91e4312d4dc6353ab4309429e31f002b5407ab9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "56433da3_a604083a",
        "filename": "libc/malloc_debug/LogAllocatorStats.cpp",
        "patchSetId": 2
      },
      "lineNbr": 51,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2023-11-28T00:48:43Z",
      "side": 1,
      "message": "mallopt() doesn\u0027t set errno on failure?",
      "revId": "c91e4312d4dc6353ab4309429e31f002b5407ab9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5269327e_6f7b25dc",
        "filename": "libc/malloc_debug/LogAllocatorStats.cpp",
        "patchSetId": 2
      },
      "lineNbr": 51,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2023-11-28T00:50:36Z",
      "side": 1,
      "message": "Nope, in fact the man page explicitly states that it is not set for this call.",
      "parentUuid": "56433da3_a604083a",
      "revId": "c91e4312d4dc6353ab4309429e31f002b5407ab9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}