{
  "comments": [
    {
      "key": {
        "uuid": "7721c23c_d9b240f4",
        "filename": "libc/bionic/malloc_heapprofd.cpp",
        "patchSetId": 1
      },
      "lineNbr": 188,
      "author": {
        "id": 1005967
      },
      "writtenOn": "2020-02-26T22:30:01Z",
      "side": 1,
      "message": "I don\u0027t entirely understand what this code does. If it intends to get the current dispatch table, but replace malloc with MallocInitHeapprofdHook, why not simply copy from *default_dispatch, after checking that it is not the same as perfetto dispatch table to prevent infinite recursion?",
      "revId": "d77a3e0219385ed1f95c9aa757c0f117e53e5bb8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6c7c2ba2_b0d9105a",
        "filename": "libc/bionic/malloc_heapprofd.cpp",
        "patchSetId": 1
      },
      "lineNbr": 188,
      "author": {
        "id": 1453063
      },
      "writtenOn": "2020-02-26T22:34:45Z",
      "side": 1,
      "message": "`default_dispatch` is nullptr when no malloc hooking exists.",
      "parentUuid": "7721c23c_d9b240f4",
      "revId": "d77a3e0219385ed1f95c9aa757c0f117e53e5bb8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f75d9089_f37e78f0",
        "filename": "libc/bionic/malloc_heapprofd.cpp",
        "patchSetId": 1
      },
      "lineNbr": 188,
      "author": {
        "id": 1005967
      },
      "writtenOn": "2020-02-26T22:37:47Z",
      "side": 1,
      "message": "So the check in DispatchIsGwpAsan is actually meant to say \"default_dispatch is not heapprofd and not nullptr\"?",
      "parentUuid": "6c7c2ba2_b0d9105a",
      "revId": "d77a3e0219385ed1f95c9aa757c0f117e53e5bb8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ea49e9c7_9e35b728",
        "filename": "libc/bionic/malloc_heapprofd.cpp",
        "patchSetId": 1
      },
      "lineNbr": 188,
      "author": {
        "id": 1453063
      },
      "writtenOn": "2020-02-26T22:39:09Z",
      "side": 1,
      "message": "Yeah, pretty much. Let me update the comment to be more clear.",
      "parentUuid": "f75d9089_f37e78f0",
      "revId": "d77a3e0219385ed1f95c9aa757c0f117e53e5bb8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7c28700d_e5e5947a",
        "filename": "libc/bionic/malloc_heapprofd.cpp",
        "patchSetId": 1
      },
      "lineNbr": 188,
      "author": {
        "id": 1453063
      },
      "writtenOn": "2020-02-26T22:55:00Z",
      "side": 1,
      "message": "Hope I\u0027ve explained it clearer.",
      "parentUuid": "ea49e9c7_9e35b728",
      "revId": "d77a3e0219385ed1f95c9aa757c0f117e53e5bb8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}