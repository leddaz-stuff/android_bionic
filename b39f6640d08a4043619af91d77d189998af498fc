{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "663363cb_dd2984db",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2024-03-29T22:58:14Z",
      "side": 1,
      "message": "interesting... that looks like it was an Android contribution to upstream. tkjos: any idea whether those ioctls() are just broken now, and the callers should be removed? or will this live on in ACK? https://source.corp.google.com/search?q\u003dinclude.*f_accessory.h%20-file:f_accessory.h\u0026sq\u003drepo:android%2Fplatform%2Fsuperproject%2Fmain%20b:main%20-file:prebuilts%2Fvndk%2F%20-file:prebuilts%2Fruntime%2F",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 19,
        "endChar": 66
      },
      "revId": "b39f6640d08a4043619af91d77d189998af498fc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a45ad066_c7196fd7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2024-03-29T23:08:46Z",
      "side": 1,
      "message": "I think there is a plan for a replacement, and if I recall it was coming in 6.9, which is why I kept the hack here. But let me know if I\u0027m wrong.",
      "parentUuid": "663363cb_dd2984db",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 19,
        "endChar": 66
      },
      "revId": "b39f6640d08a4043619af91d77d189998af498fc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "59dce80d_e8e23ef4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1069543
      },
      "writtenOn": "2024-03-29T23:42:10Z",
      "side": 1,
      "message": "This was an android-specific patch we had been carrying since ~2011. Since then, upstream has evolved to support equivalent functionality in userspace. There have been plans to migrate to that since at least 2019 by various USB teams in Android, but that never happened. This became urgent when the old kernel implementation became unsupportable with upstream changes (v6.7 and our android15-6.6 branch). See aosp/2874036.\n\nThere is now a commitment to switch to the proper userspace implementation for Android 16. b/120441124#comment30 has a pointer to this new plan.\n\nFor android15-6.6, we have a new implementation (aosp/2995439) that is consistent with most of the old one as a temporary solution for Android 15. This is not planned to be propagated to any android16 kernel or android-mainline since it will be replaced by the userspace implementation.\n\nAll inclusions of `bionic/libc/kernel/uapi/linux/usb/f_accessory.h` should be removed from the Android tree. @anothermark@google.com, please add this to your list for the userspace work.",
      "parentUuid": "663363cb_dd2984db",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 19,
        "endChar": 66
      },
      "revId": "b39f6640d08a4043619af91d77d189998af498fc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3f6f05fe_40c91df0",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2024-03-29T23:45:41Z",
      "side": 1,
      "message": "perfect, thanks!",
      "parentUuid": "59dce80d_e8e23ef4",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 19,
        "endChar": 66
      },
      "revId": "b39f6640d08a4043619af91d77d189998af498fc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c9688967_8329d060",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 19,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2024-04-17T21:47:55Z",
      "side": 1,
      "message": "Marking this resolved.",
      "parentUuid": "3f6f05fe_40c91df0",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 19,
        "endChar": 66
      },
      "revId": "b39f6640d08a4043619af91d77d189998af498fc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3cfcd06b_b856282a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2024-03-29T22:49:54Z",
      "side": 1,
      "message": "Uploading these to verify that nothing else is broken, but some of my choices might not be ideal.",
      "revId": "b39f6640d08a4043619af91d77d189998af498fc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "454b145a_11484e57",
        "filename": "libc/kernel/uapi/linux/ipv6.h",
        "patchSetId": 1
      },
      "lineNbr": 67,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2024-04-17T21:51:57Z",
      "side": 1,
      "message": "is there a python change to go with this, or was this a manual change?",
      "revId": "b39f6640d08a4043619af91d77d189998af498fc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b3d1bc77_7744c835",
        "filename": "libc/kernel/uapi/linux/ipv6.h",
        "patchSetId": 1
      },
      "lineNbr": 67,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2024-04-17T21:53:43Z",
      "side": 1,
      "message": "Yes, but I don\u0027t think it should have affected this code.",
      "parentUuid": "454b145a_11484e57",
      "revId": "b39f6640d08a4043619af91d77d189998af498fc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "64241189_345a4595",
        "filename": "libc/kernel/uapi/linux/ipv6.h",
        "patchSetId": 1
      },
      "lineNbr": 67,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2024-04-17T23:32:12Z",
      "side": 1,
      "message": "do you still see this change if you re-run the script? (gerrit claims this change happened in the last few patchsets, without a corresponding .py change, which seems odd?)",
      "parentUuid": "b3d1bc77_7744c835",
      "revId": "b39f6640d08a4043619af91d77d189998af498fc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a1ead929_f0587b2f",
        "filename": "libc/kernel/uapi/linux/ipv6.h",
        "patchSetId": 1
      },
      "lineNbr": 67,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2024-04-17T23:38:30Z",
      "side": 1,
      "message": "No, I forgot that I made this as a manual change because I was getting some compiler error related to this code and incorrectly assumed it was something about this macro definition. I meant to remove the manual change before upload but I forgot.\n\nI should have said that on your first comment, but I didn\u0027t look closely enough and realize what I had done.\n\nSo, no there is no real change here and newer patchsets do not include this bogus change.\n\nSorry about that.",
      "parentUuid": "64241189_345a4595",
      "revId": "b39f6640d08a4043619af91d77d189998af498fc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8393702f_3ea633d9",
        "filename": "libc/kernel/uapi/linux/ipv6.h",
        "patchSetId": 1
      },
      "lineNbr": 67,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2024-04-17T23:42:23Z",
      "side": 1,
      "message": "this removal is still showing up for me in ps5? oh, you\u0027re saying you manually _added_ it, and the \"removal\" is just going back to the real file. (/me checks ... yeah, that seems to correspond to upstream, where this is _used_ in this file but _defined_ in a uapi stddef.h.)",
      "parentUuid": "a1ead929_f0587b2f",
      "revId": "b39f6640d08a4043619af91d77d189998af498fc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}