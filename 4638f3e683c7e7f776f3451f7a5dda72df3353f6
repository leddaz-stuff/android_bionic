{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "b0546e0f_35796d55",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2024-01-29T21:36:20Z",
      "side": 1,
      "message": "t",
      "revId": "4638f3e683c7e7f776f3451f7a5dda72df3353f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7d84ea2d_dd9e8e97",
        "filename": "libc/bionic/ifaddrs.cpp",
        "patchSetId": 5
      },
      "lineNbr": 329,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2024-01-29T21:36:20Z",
      "side": 1,
      "message": "(i don\u0027t suppose there\u0027s any kind of sequence number so we can check that not only was our GETADDR not interrupted, and our GETLINK not interrupted, but also the GETADDR and GETLINK correspond to the same global state?)",
      "range": {
        "startLine": 329,
        "startChar": 44,
        "endLine": 329,
        "endChar": 91
      },
      "revId": "4638f3e683c7e7f776f3451f7a5dda72df3353f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b702da3f_5dc920ac",
        "filename": "libc/bionic/ifaddrs.cpp",
        "patchSetId": 5
      },
      "lineNbr": 329,
      "author": {
        "id": 1003247
      },
      "writtenOn": "2024-01-29T23:21:29Z",
      "side": 1,
      "message": "No, no sequence number I\u0027m aware of.\nYou can get information about the dump being interrupted, in which case I think bionic should simply try again from scratch.",
      "parentUuid": "7d84ea2d_dd9e8e97",
      "range": {
        "startLine": 329,
        "startChar": 44,
        "endLine": 329,
        "endChar": 91
      },
      "revId": "4638f3e683c7e7f776f3451f7a5dda72df3353f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c7827cb1_cd17dab7",
        "filename": "libc/bionic/ifaddrs.cpp",
        "patchSetId": 5
      },
      "lineNbr": 332,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2024-01-29T21:36:20Z",
      "side": 1,
      "message": "is that fixable?",
      "revId": "4638f3e683c7e7f776f3451f7a5dda72df3353f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "14bf0964_c57e7306",
        "filename": "libc/bionic/ifaddrs.cpp",
        "patchSetId": 5
      },
      "lineNbr": 332,
      "author": {
        "id": 1003247
      },
      "writtenOn": "2024-01-29T23:21:29Z",
      "side": 1,
      "message": "yeah you\u0027d have to run the ioctl\u0027s to look them up.\n\nreally the resolve_or_remove_nameless_interfaces and get_interface_flags_via_ioctl functions should be reworked:\n\nresolve_nameless_interfaces_and_get_their_flags_via_ioctl\nremove_nameless_interfaces",
      "parentUuid": "c7827cb1_cd17dab7",
      "revId": "4638f3e683c7e7f776f3451f7a5dda72df3353f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a9bfdfc0_da5d4c3a",
        "filename": "libc/bionic/ifaddrs.cpp",
        "patchSetId": 5
      },
      "lineNbr": 333,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2024-01-29T21:36:20Z",
      "side": 1,
      "message": "why would GETADDR before GETLINK solve the problem? why wouldn\u0027t we have the same problem, but for the opposite messages?\n\ndoes the interrupt notification thing address any of this?",
      "revId": "4638f3e683c7e7f776f3451f7a5dda72df3353f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e7e00409_8db40a77",
        "filename": "libc/bionic/ifaddrs.cpp",
        "patchSetId": 5
      },
      "lineNbr": 333,
      "author": {
        "id": 1003247
      },
      "writtenOn": "2024-01-29T23:21:29Z",
      "side": 1,
      "message": "because the way this fails is if GETLINK doesn\u0027t report an interface (that you already have an address for), but that means it [the interface] doesn\u0027t exist (any longer), so the addresses on the interface also vanished [addresses *cannot* exist without an interface], so you can just forget about them.\n\ninterrupt / non-atomic stuff probably only matters if the rcv buf is too small on the netlink socket and/or there\u0027s too many interfaces/addresses.  Gut feeling is this should not be an issue on any normal android system.\n\nWe\u0027re unlikely to have more than a few dozen interfaces, with maybe a 100 ips.",
      "parentUuid": "a9bfdfc0_da5d4c3a",
      "revId": "4638f3e683c7e7f776f3451f7a5dda72df3353f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}