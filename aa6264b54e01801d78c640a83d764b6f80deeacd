{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "5c11fb4d_58fb6614",
        "filename": "libc/tzcode/bionic.cpp",
        "patchSetId": 2
      },
      "lineNbr": 203,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-06-29T19:50:46Z",
      "side": 1,
      "message": "this is fine, but tbh i wasn\u0027t expecting anything more than \"Calling code requires errno to be set if we return failure, and ENOENT is our best option.\" :-)",
      "range": {
        "startLine": 193,
        "startChar": 7,
        "endLine": 203,
        "endChar": 27
      },
      "revId": "aa6264b54e01801d78c640a83d764b6f80deeacd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0748bac3_39793b9e",
        "filename": "libc/tzcode/bionic.cpp",
        "patchSetId": 2
      },
      "lineNbr": 203,
      "author": {
        "id": 1793992
      },
      "writtenOn": "2022-06-30T08:40:17Z",
      "side": 1,
      "message": "`errno \u003d ENOENT` looks suspicious, so I thought it is worth explaining reasoning behind that. I tried to make it as succinct as possible!",
      "parentUuid": "5c11fb4d_58fb6614",
      "range": {
        "startLine": 193,
        "startChar": 7,
        "endLine": 203,
        "endChar": 27
      },
      "revId": "aa6264b54e01801d78c640a83d764b6f80deeacd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ca91a7ea_13a0d404",
        "filename": "libc/tzcode/bionic.cpp",
        "patchSetId": 2
      },
      "lineNbr": 203,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-06-30T15:58:55Z",
      "side": 1,
      "message": "lol, if that\u0027s your idea of succinct, i\u0027d hate to see your prolix :-)",
      "parentUuid": "0748bac3_39793b9e",
      "range": {
        "startLine": 193,
        "startChar": 7,
        "endLine": 203,
        "endChar": 27
      },
      "revId": "aa6264b54e01801d78c640a83d764b6f80deeacd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7fb0bbfe_96e65149",
        "filename": "libc/tzcode/bionic.cpp",
        "patchSetId": 2
      },
      "lineNbr": 212,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-06-29T19:50:46Z",
      "side": 1,
      "message": "as a _reader_ i might actually have been more interested to see a comment here saying something like \"// lseek() already set errno.\" --- not _necessary_ but good for symmetry, and makes it explicit that we don\u0027t actually care what errno value. (or do we? should we make this ENOENT? does the errno value ever end up leaked to callers/humans? i think we probably _do_ want to just use whatever lseek() sets, because this \"shouldn\u0027t happen\" --- if we seek past the end of the file [the only plausible failure i can imagine] this call succeeds and our later read() will return EOF.)\n\nmaybe we should just leave this uncommented since we don\u0027t have a strong argument for either behavior, and it hasn\u0027t caused any trouble yet (and doesn\u0027t seem ever likely to).\n\nsorry for the thinking out loud!",
      "revId": "aa6264b54e01801d78c640a83d764b6f80deeacd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b1b44b96_cf0b29aa",
        "filename": "libc/tzcode/bionic.cpp",
        "patchSetId": 2
      },
      "lineNbr": 212,
      "author": {
        "id": 1793992
      },
      "writtenOn": "2022-06-30T08:40:17Z",
      "side": 1,
      "message": "The only place where it is used other than indication of an error is this [1].\nI don\u0027t see that function being used, so probably no need to rewrite errno value.\n\nI agree that there is no strong argument for either behaviour. BionicTzdbConsistencyTest touches all the available time zones, so if we reached this line someone has messed up with tzdata file and not much we can do in such case anyway.\n\n[1] https://github.com/eggert/tz/blob/0e8f0b06ac2f65d0c54a91121da09c8662cd88e6/localtime.c#L1496",
      "parentUuid": "7fb0bbfe_96e65149",
      "revId": "aa6264b54e01801d78c640a83d764b6f80deeacd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "29439d05_1e7e3f1a",
        "filename": "libc/tzcode/bionic.cpp",
        "patchSetId": 2
      },
      "lineNbr": 212,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-06-30T15:58:55Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "b1b44b96_cf0b29aa",
      "revId": "aa6264b54e01801d78c640a83d764b6f80deeacd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "71dc6846_764c0bd3",
        "filename": "tests/time_test.cpp",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-06-29T19:50:46Z",
      "side": 1,
      "message": "prefer `\u003d {}` in new code.",
      "range": {
        "startLine": 88,
        "startChar": 13,
        "endLine": 89,
        "endChar": 28
      },
      "revId": "aa6264b54e01801d78c640a83d764b6f80deeacd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "10645817_06ad776d",
        "filename": "tests/time_test.cpp",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1793992
      },
      "writtenOn": "2022-06-30T08:40:17Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "71dc6846_764c0bd3",
      "range": {
        "startLine": 88,
        "startChar": 13,
        "endLine": 89,
        "endChar": 28
      },
      "revId": "aa6264b54e01801d78c640a83d764b6f80deeacd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3597ec2c_5f87f06a",
        "filename": "tests/time_test.cpp",
        "patchSetId": 2
      },
      "lineNbr": 95,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-06-29T19:50:46Z",
      "side": 1,
      "message": "not needed.\n\n(neither is `tm_mon \u003d 0`, but i\u0027d argue that setting year/mon/mday has some readability value, especially because tm months count from 0!)\n\nnote also that you can just say `tm t \u003d { .tm_year \u003d 70, .tm_mon \u003d 0, .tm_mday \u003d 1 };` in modern C or C++ to get the same effect --- everything _not_ mentioned will be zero. that\u0027s probably the most readable way to write a date? (strictly you\u0027d still need to say `struct` in C, but you don\u0027t in C++ unless there\u0027a name collision with something _not_ a struct. if you prefer to keep the `struct`, you may as well use the more idiomatic name `tm` instead of `t`, which is usually a `time_t`.)",
      "range": {
        "startLine": 92,
        "startChar": 16,
        "endLine": 95,
        "endChar": 15
      },
      "revId": "aa6264b54e01801d78c640a83d764b6f80deeacd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "869b9838_7dbb206c",
        "filename": "tests/time_test.cpp",
        "patchSetId": 2
      },
      "lineNbr": 95,
      "author": {
        "id": 1793992
      },
      "writtenOn": "2022-06-30T08:40:17Z",
      "side": 1,
      "message": "Thanks, fixed.\n\ntm_mon \u003d 0 is the reason why is check \"man mktime\" whenever I encounter with tm.",
      "parentUuid": "3597ec2c_5f87f06a",
      "range": {
        "startLine": 92,
        "startChar": 16,
        "endLine": 95,
        "endChar": 15
      },
      "revId": "aa6264b54e01801d78c640a83d764b6f80deeacd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7c7ce8bd_84aa5c48",
        "filename": "tests/time_test.cpp",
        "patchSetId": 2
      },
      "lineNbr": 95,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2022-06-30T15:58:55Z",
      "side": 1,
      "message": "yeah, i\u0027ve been using \u003ctime.h\u003e since the late 1980s/early 1980s, and i still have to use the man page. (see also: strftime, where basically every letter of the alphabet means _something_, but not necessarily what you\u0027d imagine!)",
      "parentUuid": "869b9838_7dbb206c",
      "range": {
        "startLine": 92,
        "startChar": 16,
        "endLine": 95,
        "endChar": 15
      },
      "revId": "aa6264b54e01801d78c640a83d764b6f80deeacd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}