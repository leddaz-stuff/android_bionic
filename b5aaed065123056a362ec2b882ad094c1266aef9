{
  "comments": [
    {
      "key": {
        "uuid": "105c2963_3c881d61",
        "filename": "tests/safestack_test.cpp",
        "patchSetId": 12
      },
      "lineNbr": 7,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2015-10-07T00:53:52Z",
      "side": 1,
      "message": "hmm. this might be awkward for CTS if we can\u0027t actually detect at runtime whether we have safestack or not. we have two constraints: 1. we to have the same set of tests because they\u0027re enumerated at build time, not run time. 2. we only have one CTS that gets run on every device. if this was just \"LP64 only\" we\u0027d move the #if inside the TESTs, but then devices without safestack couldn\u0027t pass CTS...",
      "revId": "b5aaed065123056a362ec2b882ad094c1266aef9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5061411e_9c484946",
        "filename": "tests/safestack_test.cpp",
        "patchSetId": 12
      },
      "lineNbr": 7,
      "author": {
        "id": 1005967
      },
      "writtenOn": "2015-10-07T01:04:11Z",
      "side": 1,
      "message": "Are you saying that we can\u0027t completely omit a TEST() based on __LP64__?\nWhy can\u0027t we move this whole condition inside TESTs? If it\u0027s because of the __safestack_pointer_address declaration, that can be made weak.\nWe could also export __safestack_pointer_address on LP32 as well. It would always be zero, which would make it a good run-time test for safestack.",
      "parentUuid": "105c2963_3c881d61",
      "revId": "b5aaed065123056a362ec2b882ad094c1266aef9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90673931_7e3ba5ba",
        "filename": "tests/safestack_test.cpp",
        "patchSetId": 12
      },
      "lineNbr": 7,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2015-10-07T01:12:09Z",
      "side": 1,
      "message": "based on LP64, yes. (but even then, the #if has to be inside the test, making it a present but no-op test on LP32.)\n\nwe can\u0027t move the whole condition inside because there\u0027s only one CTS, but this condition would mean that you\u0027d need a safestack-CTS and a non-safestack-CTS.\n\nalways exporting the symbol(s) is probably the best idea, moving \"do we have safestack?\" to be a runtime check.",
      "parentUuid": "5061411e_9c484946",
      "revId": "b5aaed065123056a362ec2b882ad094c1266aef9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}