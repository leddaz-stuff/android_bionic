{
  "comments": [
    {
      "key": {
        "uuid": "666d98b3_f6273e65",
        "filename": "libc/bionic/pthread_mutex.cpp",
        "patchSetId": 1
      },
      "lineNbr": 142,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2015-03-23T23:40:01Z",
      "side": 1,
      "message": "aren\u0027t these PTHREAD_MUTEX_NORMAL, PTHREAD_MUTEX_RECURSIVE, and PTHREAD_MUTEX_ERRORCHECK?",
      "revId": "8e07c4a16cc50a22404d3c8f9ea55905b7a91309",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a6731093_5bd9fb75",
        "filename": "libc/bionic/pthread_mutex.cpp",
        "patchSetId": 1
      },
      "lineNbr": 142,
      "author": {
        "id": 1056364
      },
      "writtenOn": "2015-03-24T01:56:42Z",
      "side": 1,
      "message": "Yes. Although PTHREAD_MUTEX_NORMAL is basically used for pthread_mutexattr_t, but it is the same as MUTEX_TYPE_NORMAL. I agree reusing PTHREAD_MUTEX_NORMAL is better than using a magic number here.",
      "parentUuid": "666d98b3_f6273e65",
      "revId": "8e07c4a16cc50a22404d3c8f9ea55905b7a91309",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a6731093_98f2b9b3",
        "filename": "libc/include/pthread.h",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2015-03-23T23:40:01Z",
      "side": 1,
      "message": "the implicit \"fill the rest with zeroes\" doesn\u0027t upset clang?",
      "revId": "8e07c4a16cc50a22404d3c8f9ea55905b7a91309",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "666d98b3_5973c312",
        "filename": "libc/include/pthread.h",
        "patchSetId": 1
      },
      "lineNbr": 55,
      "author": {
        "id": 1056364
      },
      "writtenOn": "2015-03-24T01:56:42Z",
      "side": 1,
      "message": "I add test about initializers in pthread_test.cpp. And clang can compile it. By adding the test, I found the mistake of using wrong initialization values here. What\u0027s more, I found using char array in pthread_mutex_t have the problem about endian when using static initializers. So I change their type to int32_t array.",
      "parentUuid": "a6731093_98f2b9b3",
      "revId": "8e07c4a16cc50a22404d3c8f9ea55905b7a91309",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "86728c8f_f77d7a32",
        "filename": "libc/include/pthread.h",
        "patchSetId": 1
      },
      "lineNbr": 64,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2015-03-23T23:40:01Z",
      "side": 1,
      "message": "i think these are the values in use. can we rewrite the _INITIALIZERS to use these for clarity?",
      "revId": "8e07c4a16cc50a22404d3c8f9ea55905b7a91309",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "86728c8f_083f376b",
        "filename": "libc/include/pthread.h",
        "patchSetId": 1
      },
      "lineNbr": 64,
      "author": {
        "id": 1056364
      },
      "writtenOn": "2015-03-24T01:56:42Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "86728c8f_f77d7a32",
      "revId": "8e07c4a16cc50a22404d3c8f9ea55905b7a91309",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "86728c8f_77b88a56",
        "filename": "libc/stdio/fileext.h",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2015-03-23T23:40:01Z",
      "side": 1,
      "message": "not just\n\n  _FLOCK(fp) \u003d PTHREAD_RECURSIVE_MUTEX_INITIALIZER;\n\n?",
      "revId": "8e07c4a16cc50a22404d3c8f9ea55905b7a91309",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a6731093_d8f19117",
        "filename": "libc/stdio/fileext.h",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1056364
      },
      "writtenOn": "2015-03-24T01:56:42Z",
      "side": 1,
      "message": "I think PTHREAD_RECURSIVE_MUTEX_INITIALIZER and other initializers can only be used in variable initialization when the variable is defined. They may not be used dynamically. Although c++11 allows assignment of something like {{}} now.",
      "parentUuid": "86728c8f_77b88a56",
      "revId": "8e07c4a16cc50a22404d3c8f9ea55905b7a91309",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}