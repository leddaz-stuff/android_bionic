{
  "comments": [
    {
      "key": {
        "uuid": "354d9aaf_c5eb10d9",
        "filename": "libc/bionic/locale.cpp",
        "patchSetId": 1
      },
      "lineNbr": 66,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2015-09-30T23:34:24Z",
      "side": 1,
      "message": "how do you get a locale_t whose mb_cur_max is 0?",
      "revId": "bb24b0ed7af066dbda15d40e9c7622b965167ffe",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9555663b_8b1bddb1",
        "filename": "libc/bionic/locale.cpp",
        "patchSetId": 1
      },
      "lineNbr": 66,
      "author": {
        "id": 1041673
      },
      "writtenOn": "2015-09-30T23:37:15Z",
      "side": 1,
      "message": "locale_t l;\nl-\u003emb_cur_max \u003d 0;\nuselocale(\u0026l);\n// do not restore locale\n...\ndlopen(\"libbla.so\");",
      "parentUuid": "354d9aaf_c5eb10d9",
      "revId": "bb24b0ed7af066dbda15d40e9c7622b965167ffe",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "354d9aaf_c561501c",
        "filename": "libc/bionic/locale.cpp",
        "patchSetId": 1
      },
      "lineNbr": 66,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2015-09-30T23:39:03Z",
      "side": 1,
      "message": "you can\u0027t do that. locale_t is opaque:\n\n  struct __locale_t;\n  typedef struct __locale_t* locale_t;",
      "parentUuid": "9555663b_8b1bddb1",
      "revId": "bb24b0ed7af066dbda15d40e9c7622b965167ffe",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1548969f_af18613b",
        "filename": "libc/bionic/locale.cpp",
        "patchSetId": 1
      },
      "lineNbr": 66,
      "author": {
        "id": 1041673
      },
      "writtenOn": "2015-10-01T00:00:26Z",
      "side": 1,
      "message": "yes.. this is not what happened.. I added explicit check to uselocale - it was never called with *l \u003d\u003d 0, and still we get 0 on snprintf...",
      "parentUuid": "354d9aaf_c561501c",
      "revId": "bb24b0ed7af066dbda15d40e9c7622b965167ffe",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}