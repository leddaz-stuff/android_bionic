{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "69942846_3dae9dbb",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1499410
      },
      "writtenOn": "2023-08-22T05:02:21Z",
      "side": 1,
      "message": "Hi enh/bionic folks,\n\nI\u0027m not sure that this is the proper way to make the pagesize (getauxval) available to libdl. Would greatly appreciate your expertise and feedback on this.\n\nThanks,\nKalesh",
      "revId": "1571342f16be4af40dfd5812aada3b157a58f783",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3d5247e1_d0573ff7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2023-08-22T15:39:45Z",
      "side": 1,
      "message": "(i think this is wrong, but defer to pcc@.)",
      "revId": "1571342f16be4af40dfd5812aada3b157a58f783",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "07a56903_ff1c2071",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1499410
      },
      "writtenOn": "2023-08-22T16:11:50Z",
      "side": 1,
      "message": "A cleaner way I believe is to use `libc_init_static`. But that causes the bionic tests to fails since it overrides the weak `android_get_application_target_sdk_version` with the definition from `libc_init_static.cpp`\ncausing the `libdl:application_sdk_versions_smoke` to fail.",
      "parentUuid": "3d5247e1_d0573ff7",
      "revId": "1571342f16be4af40dfd5812aada3b157a58f783",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "15cfa9bc_604a0a8b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1005967
      },
      "writtenOn": "2023-08-22T23:23:29Z",
      "side": 1,
      "message": "What problem are you trying to fix? None of this seems to be tied to page size.",
      "revId": "1571342f16be4af40dfd5812aada3b157a58f783",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a013635f_c8b1d89a",
        "filename": "libc/private/CFIShadow.h",
        "patchSetId": 6
      },
      "lineNbr": 59,
      "author": {
        "id": 1005967
      },
      "writtenOn": "2023-08-22T23:21:29Z",
      "side": 1,
      "message": "You increase kCfiCheckGranularity. This would break the requirement above: \"__cfi_check is aligned at kCfiCheckGranularity\" unless you change the compiler to match.",
      "revId": "1571342f16be4af40dfd5812aada3b157a58f783",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e3c146be_ae2483ee",
        "filename": "libc/private/CFIShadow.h",
        "patchSetId": 6
      },
      "lineNbr": 59,
      "author": {
        "id": 1499410
      },
      "writtenOn": "2023-08-23T00:16:16Z",
      "side": 1,
      "message": "Hi Evgenii we are trying to make the bionic code page agnostic.\n\nYou are right, looks like it\u0027s unconditionally set to 4096 in the compiler:\nhttps://github.com/llvm/llvm-project/blob/main/clang/lib/CodeGen/CGExpr.cpp#L3433\n\nBut the documentation seems to suggest this decision is based on the page size:\n\nhttps://clang.llvm.org/docs/ControlFlowIntegrityDesign.html#cfi-shadow\n\n\n\nPeter, please CMIW.\n\nDo we only need a constant 4096 here or is the real page size required?",
      "parentUuid": "a013635f_c8b1d89a",
      "revId": "1571342f16be4af40dfd5812aada3b157a58f783",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}