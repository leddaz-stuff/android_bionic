{
  "comments": [
    {
      "key": {
        "uuid": "aec6e17e_868d35c0",
        "filename": "libc/bionic/malloc_heapprofd.cpp",
        "patchSetId": 2
      },
      "lineNbr": 162,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2020-02-15T04:53:14Z",
      "side": 1,
      "message": "A couple of nits, all of the variables that are global, we use gXXX to indicate they are globals.",
      "range": {
        "startLine": 162,
        "startChar": 29,
        "endLine": 162,
        "endChar": 57
      },
      "revId": "1521e7782c1fe5776fbf3c30a0ea9d6c173b7dc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "97903851_6e384a20",
        "filename": "libc/bionic/malloc_heapprofd.cpp",
        "patchSetId": 2
      },
      "lineNbr": 162,
      "author": {
        "id": 1453063
      },
      "writtenOn": "2020-02-17T23:30:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "aec6e17e_868d35c0",
      "range": {
        "startLine": 162,
        "startChar": 29,
        "endLine": 162,
        "endChar": 57
      },
      "revId": "1521e7782c1fe5776fbf3c30a0ea9d6c173b7dc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a2929a6b_fa421946",
        "filename": "libc/bionic/malloc_heapprofd.cpp",
        "patchSetId": 2
      },
      "lineNbr": 163,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2020-02-15T04:53:14Z",
      "side": 1,
      "message": "Same as above, and should probably be gEphemeralDispatch to match the other named variables.",
      "range": {
        "startLine": 163,
        "startChar": 22,
        "endLine": 163,
        "endChar": 40
      },
      "revId": "1521e7782c1fe5776fbf3c30a0ea9d6c173b7dc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d9a3def9_c2e6a4d9",
        "filename": "libc/bionic/malloc_heapprofd.cpp",
        "patchSetId": 2
      },
      "lineNbr": 163,
      "author": {
        "id": 1453063
      },
      "writtenOn": "2020-02-17T23:30:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a2929a6b_fa421946",
      "range": {
        "startLine": 163,
        "startChar": 22,
        "endLine": 163,
        "endChar": 40
      },
      "revId": "1521e7782c1fe5776fbf3c30a0ea9d6c173b7dc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c732c5f8_34b09f3a",
        "filename": "libc/bionic/malloc_heapprofd.cpp",
        "patchSetId": 2
      },
      "lineNbr": 193,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2020-02-15T04:53:14Z",
      "side": 1,
      "message": "Are you guaranteed that globals-\u003ecurrent_dispatch_table is not set to the ephermal dispatch table?",
      "range": {
        "startLine": 193,
        "startChar": 8,
        "endLine": 193,
        "endChar": 26
      },
      "revId": "1521e7782c1fe5776fbf3c30a0ea9d6c173b7dc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dc8f62be_5375cc90",
        "filename": "libc/bionic/malloc_heapprofd.cpp",
        "patchSetId": 2
      },
      "lineNbr": 193,
      "author": {
        "id": 1453063
      },
      "writtenOn": "2020-02-17T23:30:00Z",
      "side": 1,
      "message": "No - current_dispatch_table can point to the ephemeral dispatch table (see branch under !MallocLimitInstalled() below). \n\nI assume your question is \u0027is gEphemeralDispatch \u003d\u003d malloc_dispatch_table` (?), in which case no. This can never be the case.\n\nThe ephemeral dispatch table is only ever installed when were are under gHeapprofdInitInProgress locks. The ephemeral dispatch table will thus never be reentrant or anything silly like that :)\n\nLMK if that answers your questions.",
      "parentUuid": "c732c5f8_34b09f3a",
      "range": {
        "startLine": 193,
        "startChar": 8,
        "endLine": 193,
        "endChar": 26
      },
      "revId": "1521e7782c1fe5776fbf3c30a0ea9d6c173b7dc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2e0f3f67_a03c8178",
        "filename": "libc/bionic/malloc_heapprofd.cpp",
        "patchSetId": 2
      },
      "lineNbr": 304,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2020-02-15T04:53:14Z",
      "side": 1,
      "message": "I think I know why this is malloc, but could you add a comment.",
      "range": {
        "startLine": 304,
        "startChar": 9,
        "endLine": 304,
        "endChar": 15
      },
      "revId": "1521e7782c1fe5776fbf3c30a0ea9d6c173b7dc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "991102a9_b5e1eb16",
        "filename": "libc/bionic/malloc_heapprofd.cpp",
        "patchSetId": 2
      },
      "lineNbr": 304,
      "author": {
        "id": 1453063
      },
      "writtenOn": "2020-02-17T23:30:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2e0f3f67_a03c8178",
      "range": {
        "startLine": 304,
        "startChar": 9,
        "endLine": 304,
        "endChar": 15
      },
      "revId": "1521e7782c1fe5776fbf3c30a0ea9d6c173b7dc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}