{
  "comments": [
    {
      "key": {
        "uuid": "b39e63a3_c75754bc",
        "filename": "libc/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 1668,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-02-13T18:14:17Z",
      "side": 1,
      "message": "Not familiar with linker flags: what does that do the the output?\n\nAlso, why do you need that now but not before?",
      "range": {
        "startLine": 1668,
        "startChar": 0,
        "endLine": 1668,
        "endChar": 31
      },
      "revId": "879177c9e12df4efe9f17ff3536005c258f625e8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0d1bcc2f_276ed0df",
        "filename": "libc/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 1668,
      "author": {
        "id": 1041673
      },
      "writtenOn": "2017-02-13T18:22:33Z",
      "side": 1,
      "message": "global libraries are shared between all namespaces. This flags sets DF_1_GLOBAL bit for DT_FLAGS_1 field in dynamic section of libc.so.\n\nBefore we were looking into public libraries before trying to load library in \u0027this\u0027 namespace. With recent change it is no longer the case. For one public libraries are no longer a thing. They have been replaced by the list of shared libraries (shared between linked namespaces).",
      "parentUuid": "b39e63a3_c75754bc",
      "range": {
        "startLine": 1668,
        "startChar": 0,
        "endLine": 1668,
        "endChar": 31
      },
      "revId": "879177c9e12df4efe9f17ff3536005c258f625e8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6edd430e_b5a32be5",
        "filename": "libc/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 1668,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-02-13T18:28:33Z",
      "side": 1,
      "message": "Thanks. So what about libartd.so, and all the other libraries used by libarttestd.so? Is that already compiled global?",
      "parentUuid": "0d1bcc2f_276ed0df",
      "range": {
        "startLine": 1668,
        "startChar": 0,
        "endLine": 1668,
        "endChar": 31
      },
      "revId": "879177c9e12df4efe9f17ff3536005c258f625e8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "114f29bf_61ba0479",
        "filename": "libc/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 1668,
      "author": {
        "id": 1041673
      },
      "writtenOn": "2017-02-13T18:40:13Z",
      "side": 1,
      "message": "libc.so is kind of special.. nobody wants to have second copy of it because it will lead to crash. Other libraries are not.\n\nI think in case of art-test longer term I would try to untie that test namespace from /system/lib.\n\nThis actually makes me think this might not have fixed everything. I will run all tests to check and see if this is the case.",
      "parentUuid": "6edd430e_b5a32be5",
      "range": {
        "startLine": 1668,
        "startChar": 0,
        "endLine": 1668,
        "endChar": 31
      },
      "revId": "879177c9e12df4efe9f17ff3536005c258f625e8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "827d4171_8980477c",
        "filename": "libc/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 1668,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-02-13T18:53:29Z",
      "side": 1,
      "message": "\u003e libc.so is kind of special.. nobody wants to have second copy of it\n \u003e because it will lead to crash. Other libraries are not.\n\nBy chance or by design? What\u0027s the chance of having a new libc++ update that will lead to the same crashes.\n\n \u003e \n \u003e I think in case of art-test longer term I would try to untie that\n \u003e test namespace from /system/lib.\n \u003e \n \u003e This actually makes me think this might not have fixed everything.\n \u003e I will run all tests to check and see if this is the case.\n\nIf we\u0027re loading libartd.so twice, I\u0027m surprised you passed eg JniTest.",
      "parentUuid": "114f29bf_61ba0479",
      "range": {
        "startLine": 1668,
        "startChar": 0,
        "endLine": 1668,
        "endChar": 31
      },
      "revId": "879177c9e12df4efe9f17ff3536005c258f625e8",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}