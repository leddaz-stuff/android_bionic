{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "e5286df0_8fe264db",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2024-02-28T00:21:09Z",
      "side": 1,
      "message": "yeah, maybe i still just don\u0027t understand the use case, but this seems niche enough to me to not be something that should be in \u003csys/cdefs.h\u003e...",
      "revId": "af01ea5dc259d1d802e3f167509184c411daa630",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d3f7d269_0c0b3226",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1146974
      },
      "writtenOn": "2024-02-28T10:37:51Z",
      "side": 1,
      "message": "This is something new with the llndk finalization in Q2.\nWe have many new APIs added in VIC but available to llndk. (https://cs.android.com/android/platform/superproject/main/+/main:bionic/libc/libc.map.txt;l\u003d1587) They are guarded with `__INTRODUCED_IN(35)` (https://cs.android.com/android/platform/superproject/main/+/main:bionic/libc/include/android/crash_detail.h;drc\u003d63df50e101a712f728fcf7e94bcdfb898dcd7c19;l\u003d84)\nBut still they must be available to vendor libs in Q2 which is still 34.\n\nIn the vendor API surface, `__INTRODUCED_IN` must be ignored but `__INTRODUCED_IN_LLNDK` must work instead.\n\nWithout including `\u003candroid/llndk-versioning.h\u003e` to `\u003csys/cdefs.h\u003e`, all vendor available libraries using `__INTRODUCED_IN` must manually include `\u003candroid/llndk-versioning.h\u003e` to their header files along with `\u003csys/cdefs.h\u003e`.\nThat includes many header files in bionic.\n\nThis change is for libc not only as a provider of the `\u003candroid/llndk-versioning.h\u003e` but also as a user of the `\u003candroid/llndk-versioning.h\u003e`.",
      "parentUuid": "e5286df0_8fe264db",
      "revId": "af01ea5dc259d1d802e3f167509184c411daa630",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "436e1c30_c1c70f8e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1146974
      },
      "writtenOn": "2024-03-06T01:43:46Z",
      "side": 1,
      "message": "Gentle ping to the owners and inviting @danalbert@google.com for comment.\nBy separating the NDK and LLNDK versioning, libc as an LLNDK also requires the new definitions for `__INTRODUCED_IN` and `__INTRODUCED_IN_LLNDK`.",
      "parentUuid": "d3f7d269_0c0b3226",
      "revId": "af01ea5dc259d1d802e3f167509184c411daa630",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a097d642_28f5a4b2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2024-03-06T16:15:16Z",
      "side": 1,
      "message": "\u003e That includes many header files in bionic.\n\ni think we\u0027ll just _not_ separate the versioning for bionic like this. that\u0027s not really a regression, because vendor code is always \"behind\" anyway.\n\nadding all this extra cruft actively makes Android worse --- life is already too complicated as an app developer having to understand min sdk version and target sdk version and how to write code that works on all the different versions of Android that are out there _especially_ if you want to use anything recent if you happen to be on a recent device. (just that _sentence_ is hard to understand!)\n\nadding _another_ api level that _isn\u0027t relevant to 99.999% of developers_ -- and that the much smaller number of vendors can live without anyway -- just seems like a terrible idea. plenty of downside, and no upside.\n\nwe _really_ need to just switch to the sensible scheme of \"one api level per quarter\", which makes this and many other problems go away, so it seems useful to avoid making another complicated mess (just as we\u0027re getting rid of vndk!) that should be short-lived (just _this_ year, where this hadn\u0027t been thought through) anyway.\n\ni think to the extent this hack _is_ useful, it\u0027s useful for one year (until we do the right thing, with an api level for every shipping set of api changes, like we\u0027ve always had in the past), to a small number of people, for a vanishingly small number of apis (just those that were added _for_ a vendor, really --- because by definition they were already doing okay without the _new_ api!).",
      "parentUuid": "436e1c30_c1c70f8e",
      "revId": "af01ea5dc259d1d802e3f167509184c411daa630",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8843a92d_e8e4c7d5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1146974
      },
      "writtenOn": "2024-03-06T23:18:22Z",
      "side": 1,
      "message": "That was the original design to use minor version of clang triple for the quarterly updates since the APIs are anyway backward compatible and we don\u0027t need to split two APIs in this NDK world.\nBut unfortunately that was not agreed.",
      "parentUuid": "a097d642_28f5a4b2",
      "revId": "af01ea5dc259d1d802e3f167509184c411daa630",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "94794837_5c8cdf10",
        "filename": "libc/include/sys/cdefs.h",
        "patchSetId": 1
      },
      "lineNbr": 354,
      "author": {
        "id": 1415877
      },
      "writtenOn": "2024-02-27T10:41:16Z",
      "side": 1,
      "message": "LGTM, but IMO this is optional and we don\u0027t get much from this.",
      "range": {
        "startLine": 352,
        "startChar": 0,
        "endLine": 354,
        "endChar": 6
      },
      "revId": "af01ea5dc259d1d802e3f167509184c411daa630",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7174db6a_9709dbc1",
        "filename": "libc/include/sys/cdefs.h",
        "patchSetId": 1
      },
      "lineNbr": 354,
      "author": {
        "id": 1146974
      },
      "writtenOn": "2024-02-27T14:02:16Z",
      "side": 1,
      "message": "Yes, that\u0027s true.\nUsers may include this header in their code manually along with `\u003csys/cdefs.h\u003e` without adding it here.",
      "parentUuid": "94794837_5c8cdf10",
      "range": {
        "startLine": 352,
        "startChar": 0,
        "endLine": 354,
        "endChar": 6
      },
      "revId": "af01ea5dc259d1d802e3f167509184c411daa630",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}