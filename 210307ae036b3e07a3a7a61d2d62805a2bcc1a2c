{
  "comments": [
    {
      "key": {
        "uuid": "fdaa0e36_e3c68212",
        "filename": "linker/linker.cpp",
        "patchSetId": 2
      },
      "lineNbr": 92,
      "author": {
        "id": 1229339
      },
      "writtenOn": "2018-12-04T21:33:52Z",
      "side": 1,
      "message": "I\u0027m concerned that this change will allow a mismatched linker/libc.so combo, which would then preclude changing the linker\u003c-\u003elibc.so interface, including the pthread_internal_t struct, the libc_shared_globals struct, etc.\n\ne.g. If there\u0027s going to be a fallback Bionic on the system, then I think that fallback needs to omit this apex directory from its search path.\n\nCan we hold off on this CL until we\u0027ve fixed this issue?",
      "range": {
        "startLine": 92,
        "startChar": 45,
        "endLine": 92,
        "endChar": 79
      },
      "revId": "210307ae036b3e07a3a7a61d2d62805a2bcc1a2c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ecdcf90b_868c2e1d",
        "filename": "linker/linker.cpp",
        "patchSetId": 2
      },
      "lineNbr": 92,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2018-12-05T14:29:54Z",
      "side": 1,
      "message": "I thought the plan was not to have a Bionic fallback on /system (and static-link everything on /system)â€¦\n\nI\u0027d like to submit this CL ASAP, as this is blocking progress on the effort to boot devices with the Runtime APEX.",
      "parentUuid": "fdaa0e36_e3c68212",
      "range": {
        "startLine": 92,
        "startChar": 45,
        "endLine": 92,
        "endChar": 79
      },
      "revId": "210307ae036b3e07a3a7a61d2d62805a2bcc1a2c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a0b97238_b3ac97cb",
        "filename": "linker/linker.cpp",
        "patchSetId": 2
      },
      "lineNbr": 92,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-12-05T14:48:21Z",
      "side": 1,
      "message": "My plan is to have bionic fallbacks on /system though it won\u0027t be /system/lib but somewhere like /system/lib/bootstrap. (b/119274217)\n\nRoland, is the change in this file a must for you? I know that the dep_path change in the other file is a must, but I am not sure about this one. These paths are used only when the linker fails to find a matching linker namespace config from ld.config.txt.\n\nIf so, why don\u0027t you proceed only with the dep_path change to unblock other stuffs?",
      "parentUuid": "ecdcf90b_868c2e1d",
      "range": {
        "startLine": 92,
        "startChar": 45,
        "endLine": 92,
        "endChar": 79
      },
      "revId": "210307ae036b3e07a3a7a61d2d62805a2bcc1a2c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f11695a2_15cb140e",
        "filename": "linker/linker.cpp",
        "patchSetId": 2
      },
      "lineNbr": 92,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2018-12-05T15:35:56Z",
      "side": 1,
      "message": "My motivations here are:\n1. we should not regress or change existing behavior unless there\u0027s a good reason; as we are moving libraries (Bionic) that used to be in /system/lib[64] to /apex/com.android.runtime/lib[64], I think we should keep them in the default search path;\n2. we should work incrementally (doing two or more things at the same times makes it harder to identify issues), i.e. extend the linker search path to maintain existing functionality, then prune it we think some of the directories are not required (provided that this does not break stuff).\n\nI\u0027ll spin the `_PATH_DEFPATH` change out of this CL.",
      "parentUuid": "a0b97238_b3ac97cb",
      "range": {
        "startLine": 92,
        "startChar": 45,
        "endLine": 92,
        "endChar": 79
      },
      "revId": "210307ae036b3e07a3a7a61d2d62805a2bcc1a2c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}