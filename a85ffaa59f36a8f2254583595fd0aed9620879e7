{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "f24956dd_25be7847",
        "filename": "libc/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 2078,
      "author": {
        "id": 1514900
      },
      "writtenOn": "2021-02-10T04:32:11Z",
      "side": 1,
      "message": "crtbegin_so.c depends on headers (__dso_handle.h for example) in the same directory. Without adding arch-common/bionic in local_include_dirs, which bp2build converts to deps on header cc_library targets, Bazel\u0027s per-action sandboxing fails with header not found errors.",
      "range": {
        "startLine": 2078,
        "startChar": 12,
        "endLine": 2078,
        "endChar": 44
      },
      "revId": "a85ffaa59f36a8f2254583595fd0aed9620879e7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "527169e5_790e5297",
        "filename": "libc/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 2078,
      "author": {
        "id": 1066075
      },
      "writtenOn": "2021-02-10T07:21:11Z",
      "side": 1,
      "message": "Bazel\u0027s starting to pay dividends then!",
      "parentUuid": "f24956dd_25be7847",
      "range": {
        "startLine": 2078,
        "startChar": 12,
        "endLine": 2078,
        "endChar": 44
      },
      "revId": "a85ffaa59f36a8f2254583595fd0aed9620879e7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d4d521b7_113efbcf",
        "filename": "libc/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 2078,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2021-02-10T17:39:36Z",
      "side": 1,
      "message": "i\u0027m not sure Android developers see \"having to list the current directory as an include directory\" as a _feature_ rather than a _bug_. (having lived in google3 and Android, i felt like this was an improvement in Android.)",
      "parentUuid": "527169e5_790e5297",
      "range": {
        "startLine": 2078,
        "startChar": 12,
        "endLine": 2078,
        "endChar": 44
      },
      "revId": "a85ffaa59f36a8f2254583595fd0aed9620879e7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a9b36181_4d0b9954",
        "filename": "libc/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 2078,
      "author": {
        "id": 1514900
      },
      "writtenOn": "2021-02-16T11:51:53Z",
      "side": 1,
      "message": "I disagree; explicitly listing dependencies is something that we should have more of, moving forward. It not only helps per-action hermeticity in Bazel, it would also help RBE by not having any implicit dependencies.\n\nThe alternative to listing header inputs in the definition is to list them directly in srcs, but it is disallowed in Soong today:\n\n  error: bionic/libc/Android.bp:2112:9: module \"crtbegin_so1\" variant \"android_arm_armv7-a-neon\": srcs: Header file bionic/libc/arch-common/bionic/__dso_handle.h is not supported, instead use export_include_dirs or local_include_dirs.",
      "parentUuid": "d4d521b7_113efbcf",
      "range": {
        "startLine": 2078,
        "startChar": 12,
        "endLine": 2078,
        "endChar": 44
      },
      "revId": "a85ffaa59f36a8f2254583595fd0aed9620879e7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9b1fd22a_4ac7eeb1",
        "filename": "libc/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 2078,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2021-02-16T20:30:00Z",
      "side": 1,
      "message": "\u003e depends whether you mean on the host or on the device? this is https://man7.org/linux/man-pages/man1/ldd.1.html so it needs to be called ldd on the device. but the module name and name on the host filesystem don\u0027t really matter.\n\nin general, sure.\n\nfor the specific case of \".\" when talking about how #include works? not so much.",
      "parentUuid": "a9b36181_4d0b9954",
      "range": {
        "startLine": 2078,
        "startChar": 12,
        "endLine": 2078,
        "endChar": 44
      },
      "revId": "a85ffaa59f36a8f2254583595fd0aed9620879e7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8d36708d_f614a16c",
        "filename": "libc/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 2078,
      "author": {
        "id": 1514900
      },
      "writtenOn": "2021-02-17T14:46:50Z",
      "side": 1,
      "message": "Done - figured an alternative way to generate the hdr inputs to the Bazel cc_library target without modifying local_include_dirs. Patchset: https://android-review.googlesource.com/c/platform/build/bazel/+/1581323/7..8",
      "parentUuid": "9b1fd22a_4ac7eeb1",
      "range": {
        "startLine": 2078,
        "startChar": 12,
        "endLine": 2078,
        "endChar": 44
      },
      "revId": "a85ffaa59f36a8f2254583595fd0aed9620879e7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}