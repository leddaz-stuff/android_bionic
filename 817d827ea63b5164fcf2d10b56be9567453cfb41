{
  "comments": [
    {
      "key": {
        "uuid": "185442e3_30c8dd97",
        "filename": "libc/bionic/stubs.cpp",
        "patchSetId": 4
      },
      "lineNbr": 433,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2015-07-21T20:27:35Z",
      "side": 1,
      "message": "isn\u0027t the rest of this all duplicated too? the only difference is getgrgid_internal(gid, state) versus getgrnam_internal(name, state). or does using a template for this make it worse than the duplication?",
      "revId": "817d827ea63b5164fcf2d10b56be9567453cfb41",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "edc5ee24_31d82a1d",
        "filename": "libc/bionic/stubs.cpp",
        "patchSetId": 4
      },
      "lineNbr": 433,
      "author": {
        "id": 1056364
      },
      "writtenOn": "2015-07-22T01:02:43Z",
      "side": 1,
      "message": "Done. I didn\u0027t realize the requirement for duplication is so strict. Using template or macro seems harder to read. I use a common function to pass in all the arguments just like do_getpw_r before, although I don\u0027t like it very much.",
      "parentUuid": "185442e3_30c8dd97",
      "revId": "817d827ea63b5164fcf2d10b56be9567453cfb41",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6dd2dee8_3566da1c",
        "filename": "libc/bionic/stubs.cpp",
        "patchSetId": 4
      },
      "lineNbr": 433,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2015-07-22T01:49:18Z",
      "side": 1,
      "message": "with the possible exception of unit tests where duplication can sometimes make tests clearer, duplication is pretty much always to be avoided. sometimes the language works against you and makes it hard to factor out the duplication, and then you have to balance the trade off of n simpler copies versus one more complex copy.\n\nduplicated code is harder to review in the first place, leaves the reviewer wondering \"was there some subtle difference in these copies that i just didn\u0027t spot?\" and -- most importantly -- is harder to maintain, especially because people don\u0027t expect (in good code) to have to look for multiple instances of the same mistake. (obviously this isn\u0027t something we can rely on in most of the code we inherited! :-( )\n\n\n\n(as for this specific case, i think your choice of a boolean plus extra arguments is probably clearer than my suggestion of a template. lgtm.)",
      "parentUuid": "edc5ee24_31d82a1d",
      "revId": "817d827ea63b5164fcf2d10b56be9567453cfb41",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "78429e31_e059285d",
        "filename": "tests/stubs_test.cpp",
        "patchSetId": 4
      },
      "lineNbr": 303,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2015-07-21T20:27:35Z",
      "side": 1,
      "message": "you could check_group here instead of just asserting non-null. (in fact, for all three initial calls.)",
      "revId": "817d827ea63b5164fcf2d10b56be9567453cfb41",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cd7bcaab_7b2d17c9",
        "filename": "tests/stubs_test.cpp",
        "patchSetId": 4
      },
      "lineNbr": 303,
      "author": {
        "id": 1056364
      },
      "writtenOn": "2015-07-22T01:02:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "78429e31_e059285d",
      "revId": "817d827ea63b5164fcf2d10b56be9567453cfb41",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "185442e3_f0d65534",
        "filename": "tests/stubs_test.cpp",
        "patchSetId": 4
      },
      "lineNbr": 333,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2015-07-21T20:27:35Z",
      "side": 1,
      "message": "large_enough...",
      "revId": "817d827ea63b5164fcf2d10b56be9567453cfb41",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0ddfa2f3_2fbe891f",
        "filename": "tests/stubs_test.cpp",
        "patchSetId": 4
      },
      "lineNbr": 333,
      "author": {
        "id": 1056364
      },
      "writtenOn": "2015-07-22T01:02:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "185442e3_f0d65534",
      "revId": "817d827ea63b5164fcf2d10b56be9567453cfb41",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}