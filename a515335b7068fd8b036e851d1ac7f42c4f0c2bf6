{
  "comments": [
    {
      "key": {
        "uuid": "10dfe6e6_58a0089b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2018-12-18T17:37:48Z",
      "side": 1,
      "message": "Put into quotes to improve legibility?",
      "range": {
        "startLine": 10,
        "startChar": 0,
        "endLine": 10,
        "endChar": 28
      },
      "revId": "a515335b7068fd8b036e851d1ac7f42c4f0c2bf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1dc370cd_615c8af8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 11,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2018-12-17T18:24:12Z",
      "side": 1,
      "message": "__ANDROID__ is \"on the device\".\n\n__BIONIC__ (which is implicit for all of this code) can be device or host.",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 11,
        "endChar": 0
      },
      "revId": "a515335b7068fd8b036e851d1ac7f42c4f0c2bf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "11fe7363_3ce3a559",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 18,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2018-12-17T18:24:12Z",
      "side": 1,
      "message": "is this set on the host when running ART tests and the like?",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 18,
        "endChar": 54
      },
      "revId": "a515335b7068fd8b036e851d1ac7f42c4f0c2bf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aa9c8ffe_4841bbbc",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 18,
      "author": {
        "id": 1038039
      },
      "writtenOn": "2018-12-18T11:20:50Z",
      "side": 1,
      "message": "Possibly - I\u0027ve made changes to art scripts to introduce ANDROID_RUNTIME_ROOT where I can see ANDROID_ROOT being set in prior commits. Not sure I\u0027ve caught them all as my last attempt broke the ART team\u0027s chroot environment.\n\nIf it\u0027s not in all environments, I think it should be set to keep things as similar as possible.\n\nHalf the problem with these changes is that ART runs various weird and wonderful environments that I don\u0027t know how to test, but I think it\u0027s mostly on the runtime folks to keep those working (or tell me I\u0027m going to break them and how to avoid that).\n\nThis is one of the few places OTTOMH \"knows\" about host data files and does something explicitly different. I\u0027m inclined in a future change to try to collapse the two branches TBH because we rely on environment variables in several other places and I\u0027d like to have one set of \"dynamic runtime libc\" behavior. With the upcoming \"static libc\" / \"bootstrap libc\" / \"runtime APEX libc\" split we probably need\n\nif (static libc || bootstrap libc) {\n  do X\n} else {\n  // runtime libc\n  do Y\n}",
      "parentUuid": "11fe7363_3ce3a559",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 18,
        "endChar": 54
      },
      "revId": "a515335b7068fd8b036e851d1ac7f42c4f0c2bf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c67636b0_5410b648",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 18,
      "author": {
        "id": 1038039
      },
      "writtenOn": "2019-01-07T21:04:24Z",
      "side": 1,
      "message": "I\u0027m going to assert that setting $ANDROID_RUNTIME_ROOT is going to just be a requirement of the environment when running on host, just as ANDROID_ROOT is today.\n\nWe also require it in libcore in all cases (not just host).\n\nI guess that if libc is used on the host independently of libcore then there are more cases to worry about. There will certainly be an issue generally when we (probably) remove the ANDROID_ROOT fallback case. I still have no idea how to predict those cases or report them in a way that will come back to me. I think all I can do is submit and wait for people to complain. That won\u0027t happen until we (probably) drop the reference to ANDROID_ROOT for some or all cases.\n\n[Also, FWIW, the presence of the \"ANDROID_RUNTIME_ROOT\" string is a good signal that something needs to happen here if we have to change course.]",
      "parentUuid": "aa9c8ffe_4841bbbc",
      "range": {
        "startLine": 16,
        "startChar": 0,
        "endLine": 18,
        "endChar": 54
      },
      "revId": "a515335b7068fd8b036e851d1ac7f42c4f0c2bf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a666baa7_09088ea8",
        "filename": "libc/tzcode/bionic.cpp",
        "patchSetId": 1
      },
      "lineNbr": 246,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2018-12-18T17:37:48Z",
      "side": 1,
      "message": "This looks like this could be refactored (possibly in another CL).",
      "range": {
        "startLine": 233,
        "startChar": 0,
        "endLine": 246,
        "endChar": 25
      },
      "revId": "a515335b7068fd8b036e851d1ac7f42c4f0c2bf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3ffcd0a7_a835f426",
        "filename": "libc/tzcode/bionic.cpp",
        "patchSetId": 1
      },
      "lineNbr": 246,
      "author": {
        "id": 1038039
      },
      "writtenOn": "2018-12-18T19:28:47Z",
      "side": 1,
      "message": "Yes, though it\u0027s going to be in flux as we move things around so I\u0027d like to leave that to the end.",
      "parentUuid": "a666baa7_09088ea8",
      "range": {
        "startLine": 233,
        "startChar": 0,
        "endLine": 246,
        "endChar": 25
      },
      "revId": "a515335b7068fd8b036e851d1ac7f42c4f0c2bf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "61aeac13_b2f52ec8",
        "filename": "libc/tzcode/bionic.cpp",
        "patchSetId": 1
      },
      "lineNbr": 246,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2019-01-04T18:40:23Z",
      "side": 1,
      "message": "Sure, no worries.",
      "parentUuid": "3ffcd0a7_a835f426",
      "range": {
        "startLine": 233,
        "startChar": 0,
        "endLine": 246,
        "endChar": 25
      },
      "revId": "a515335b7068fd8b036e851d1ac7f42c4f0c2bf6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}