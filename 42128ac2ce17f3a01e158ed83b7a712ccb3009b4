{
  "comments": [
    {
      "key": {
        "uuid": "53004bfe_ad55e743",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 12,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-12-20T18:31:40Z",
      "side": 1,
      "message": "Honestly, I don\u0027t understand this paragraph.  Can you give an example of how exactly processes within an APEX module and outside of an APEX module are going to use these functions?",
      "revId": "42128ac2ce17f3a01e158ed83b7a712ccb3009b4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1989d4a0_20590f45",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 12,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-12-21T06:59:00Z",
      "side": 1,
      "message": "Processes that started \u0027before\u0027 apexd: they will use /system/bootstrap/lib/lib{c|dl|m}.so\n\nProcesses that started \u0027after\u0027 apexd:\n1) process started in platform (/system/bin)\n2) process started in APEX other than the runtime APEX (/apex/foo/bin)\n3) process started in the runtime APEX (/apex/com.android.runtime/bin)\n\nAll 1, 2, 3 will use /apex/com.android.runtime/lib/lib{c|dl|m}.so at runtime.\nBut at build time, 1) and 2) are linking against stubs of libc/dl/m. Only 3) directly link to \u0027real\u0027 libc/dl/m.",
      "parentUuid": "53004bfe_ad55e743",
      "revId": "42128ac2ce17f3a01e158ed83b7a712ccb3009b4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "606055eb_49d3cc6c",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 17,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-12-20T18:31:40Z",
      "side": 1,
      "message": "Just to clarify, we\u0027re still going to keep the symbols for these available just that their functionality is going to be stubbed out to be a no-op, right?",
      "revId": "42128ac2ce17f3a01e158ed83b7a712ccb3009b4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "03248c0f_45e668bf",
        "filename": "/COMMIT_MSG",
        "patchSetId": 7
      },
      "lineNbr": 17,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-12-21T06:59:00Z",
      "side": 1,
      "message": "I am not sure I understood the question correctly. The source code for the stub library is generated from the map file and the implementation of each function (or variable) is no-op. (e.g. void foo() {} )",
      "parentUuid": "606055eb_49d3cc6c",
      "revId": "42128ac2ce17f3a01e158ed83b7a712ccb3009b4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7d155b44_fd75a9e7",
        "filename": "libc/libc.map.txt",
        "patchSetId": 7
      },
      "lineNbr": 1464,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-12-20T18:31:40Z",
      "side": 1,
      "message": "Following",
      "range": {
        "startLine": 1464,
        "startChar": 6,
        "endLine": 1464,
        "endChar": 14
      },
      "revId": "42128ac2ce17f3a01e158ed83b7a712ccb3009b4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "01133265_fb55bdca",
        "filename": "libc/libc.map.txt",
        "patchSetId": 7
      },
      "lineNbr": 1464,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-12-21T06:59:00Z",
      "side": 1,
      "message": "Done. Curse my laptop keyboard :(",
      "parentUuid": "7d155b44_fd75a9e7",
      "range": {
        "startLine": 1464,
        "startChar": 6,
        "endLine": 1464,
        "endChar": 14
      },
      "revId": "42128ac2ce17f3a01e158ed83b7a712ccb3009b4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d234c039_cd64c806",
        "filename": "libc/libc.map.txt",
        "patchSetId": 7
      },
      "lineNbr": 1465,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-12-20T18:31:40Z",
      "side": 1,
      "message": "libselinux",
      "range": {
        "startLine": 1465,
        "startChar": 23,
        "endLine": 1465,
        "endChar": 34
      },
      "revId": "42128ac2ce17f3a01e158ed83b7a712ccb3009b4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b3bbbfd1_259165ef",
        "filename": "libc/libc.map.txt",
        "patchSetId": 7
      },
      "lineNbr": 1465,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-12-21T06:59:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d234c039_cd64c806",
      "range": {
        "startLine": 1465,
        "startChar": 23,
        "endLine": 1465,
        "endChar": 34
      },
      "revId": "42128ac2ce17f3a01e158ed83b7a712ccb3009b4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "67aae84b_577be8a4",
        "filename": "libc/libc.map.txt",
        "patchSetId": 7
      },
      "lineNbr": 1469,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-12-20T18:18:38Z",
      "side": 1,
      "message": "tomcherry@,\n\nAs you know well, these are from init. In fact, because init will be using the bootstrap bionic libraries (since APEXes won\u0027t be available when init starts), we shouldn\u0027t add these here. init will link to libc without using stubs. However, until when we build the bootstrap bionic, I would like to put these here. Are you okay with that?\n\nIn addition, the _init function is used by libselinux as well and thus we need to have the symbol here even after the bootstrap bionic work is done. What do you think?",
      "range": {
        "startLine": 1466,
        "startChar": 0,
        "endLine": 1469,
        "endChar": 36
      },
      "revId": "42128ac2ce17f3a01e158ed83b7a712ccb3009b4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0b442b95_56d7ee3a",
        "filename": "libc/libc.map.txt",
        "patchSetId": 7
      },
      "lineNbr": 1469,
      "author": {
        "id": 1064128
      },
      "writtenOn": "2018-12-20T18:31:40Z",
      "side": 1,
      "message": "__system_properties_init() is used by more than just libselinux and init, it\u0027s used in the linker to create the mappings to system properties during process initialization.  It needs to be available to the linker (both of them) for all processes.",
      "parentUuid": "67aae84b_577be8a4",
      "range": {
        "startLine": 1466,
        "startChar": 0,
        "endLine": 1469,
        "endChar": 36
      },
      "revId": "42128ac2ce17f3a01e158ed83b7a712ccb3009b4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "448ddaec_4ef973fd",
        "filename": "libc/libc.map.txt",
        "patchSetId": 7
      },
      "lineNbr": 1469,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-12-21T06:59:00Z",
      "side": 1,
      "message": "linker (system/bin/linker) will be packaged in the runtime APEX along with libc/dl/m. As the libs and the linker are within the same APEX, the linker can access all symbols in them.\n\nThis change is for things external to the runtime APEX. If I remove these lines, only init and libselinux are breaking.",
      "parentUuid": "0b442b95_56d7ee3a",
      "range": {
        "startLine": 1466,
        "startChar": 0,
        "endLine": 1469,
        "endChar": 36
      },
      "revId": "42128ac2ce17f3a01e158ed83b7a712ccb3009b4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0b19d99e_2cd6a896",
        "filename": "libc/libc.map.txt",
        "patchSetId": 7
      },
      "lineNbr": 1475,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-12-20T18:18:38Z",
      "side": 1,
      "message": "cferris@,\n\nThese symbols are used by libmemunreachable,so I think the bionic lib in the runtime APEX should keep these symbols intact in order not to break libmemunreachable with the runtime APEX update. What do you think?",
      "range": {
        "startLine": 1471,
        "startChar": 0,
        "endLine": 1475,
        "endChar": 26
      },
      "revId": "42128ac2ce17f3a01e158ed83b7a712ccb3009b4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2431f940_60e4678c",
        "filename": "libc/libc.map.txt",
        "patchSetId": 7
      },
      "lineNbr": 1480,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-12-20T18:18:38Z",
      "side": 1,
      "message": "cferris@\n\nThese are from libmediautils. Same question as above.",
      "range": {
        "startLine": 1477,
        "startChar": 0,
        "endLine": 1480,
        "endChar": 32
      },
      "revId": "42128ac2ce17f3a01e158ed83b7a712ccb3009b4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7f6f5ce2_9e80a53e",
        "filename": "libc/libc.map.txt",
        "patchSetId": 7
      },
      "lineNbr": 1483,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-12-20T18:18:38Z",
      "side": 1,
      "message": "lorenzo@\n\nDo you have any concern about keeping this symbol across the runtime APEX and platform? Do you have any other option?",
      "range": {
        "startLine": 1482,
        "startChar": 0,
        "endLine": 1483,
        "endChar": 37
      },
      "revId": "42128ac2ce17f3a01e158ed83b7a712ccb3009b4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "920d51f7_5f464d66",
        "filename": "libc/libc.map.txt",
        "patchSetId": 7
      },
      "lineNbr": 1486,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2018-12-20T18:18:38Z",
      "side": 1,
      "message": "cferris@\n\nFrom enh@: \"probably should be converted into a mallopt?\"",
      "range": {
        "startLine": 1485,
        "startChar": 0,
        "endLine": 1486,
        "endChar": 34
      },
      "revId": "42128ac2ce17f3a01e158ed83b7a712ccb3009b4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}