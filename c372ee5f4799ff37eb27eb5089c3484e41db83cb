{
  "comments": [
    {
      "key": {
        "uuid": "9ebd11b4_34c0805b",
        "filename": "tools/bpfmt.sh",
        "patchSetId": 2
      },
      "lineNbr": 5,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2018-01-11T00:28:28Z",
      "side": 1,
      "message": "Maybe `git diff HEAD~ --name-only | egrep \"\\.bp$\"` instead, to only run bpfmt on bp files that changed?",
      "revId": "c372ee5f4799ff37eb27eb5089c3484e41db83cb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a2522be5_f44c58a2",
        "filename": "tools/bpfmt.sh",
        "patchSetId": 2
      },
      "lineNbr": 5,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2018-01-11T00:31:29Z",
      "side": 1,
      "message": "it\u0027s instantaneous anyway, so YAGNI.",
      "parentUuid": "9ebd11b4_34c0805b",
      "revId": "c372ee5f4799ff37eb27eb5089c3484e41db83cb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "132cdf62_7bae42a0",
        "filename": "tools/bpfmt.sh",
        "patchSetId": 2
      },
      "lineNbr": 6,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2018-01-11T00:28:28Z",
      "side": 1,
      "message": "Use `bpfmt -l` instead of writing to the files and diffing?",
      "revId": "c372ee5f4799ff37eb27eb5089c3484e41db83cb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5852e6c6_f8980c84",
        "filename": "tools/bpfmt.sh",
        "patchSetId": 2
      },
      "lineNbr": 6,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2018-01-11T00:31:29Z",
      "side": 1,
      "message": "this seems more useful, though, because all you have to do to fix it is `git commit -a --amend`. (which is the same as the clang-format hook.)",
      "parentUuid": "132cdf62_7bae42a0",
      "revId": "c372ee5f4799ff37eb27eb5089c3484e41db83cb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35e9e305_b68bb103",
        "filename": "tools/bpfmt.sh",
        "patchSetId": 2
      },
      "lineNbr": 6,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2018-01-11T00:34:15Z",
      "side": 1,
      "message": "Doesn\u0027t this break down if you have multiple commits stacked? The way the preupload stuff works is by checking out each of the commits on your stack and running the hooks, right?",
      "parentUuid": "5852e6c6_f8980c84",
      "revId": "c372ee5f4799ff37eb27eb5089c3484e41db83cb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fcf058cb_9bdb9704",
        "filename": "tools/bpfmt.sh",
        "patchSetId": 2
      },
      "lineNbr": 6,
      "author": {
        "id": 1003224
      },
      "writtenOn": "2018-01-11T00:38:16Z",
      "side": 1,
      "message": "wouldn\u0027t that be true for clang-format too though?",
      "parentUuid": "35e9e305_b68bb103",
      "revId": "c372ee5f4799ff37eb27eb5089c3484e41db83cb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0d5da129_22f4c37a",
        "filename": "tools/bpfmt.sh",
        "patchSetId": 2
      },
      "lineNbr": 6,
      "author": {
        "id": 1079148
      },
      "writtenOn": "2018-01-11T00:43:20Z",
      "side": 1,
      "message": "repohooks runs git clang-format with --diff to not apply the changes",
      "parentUuid": "fcf058cb_9bdb9704",
      "revId": "c372ee5f4799ff37eb27eb5089c3484e41db83cb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "67250871_4e624fb0",
        "filename": "tools/bpfmt.sh",
        "patchSetId": 2
      },
      "lineNbr": 6,
      "author": {
        "id": 1074628
      },
      "writtenOn": "2018-01-11T01:05:50Z",
      "side": 1,
      "message": "You should never be writing to the source tree with an upload hook. You\u0027ve got no idea what local changes exist -- or whether we\u0027re actually uploading what\u0027s currently checked out into the worktree.\n\nYou also need to be using the prebuilt bpfmt, not one that may or may not be in $PATH.",
      "parentUuid": "0d5da129_22f4c37a",
      "revId": "c372ee5f4799ff37eb27eb5089c3484e41db83cb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}