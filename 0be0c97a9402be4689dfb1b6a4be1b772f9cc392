{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "4c7f7828_bd209c83",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1021512
      },
      "writtenOn": "2022-11-18T00:31:49Z",
      "side": 1,
      "message": "one other thing to note: for what it\u0027s worth, Qualcomm uses the old memcpy_neon from 2014 on their ARMv9 devices, which was reverted at\n Ib75c33caafd76750ec1aca3a74dec5e4b881e965\n \n https://git.codelinaro.org/clo/la/platform/bionic/-/commit/7a24da08feedebfc4d6b2097cef945aa714d68c5\n \n I\u0027d be surprised if this outperforms either SVE, integer, or ASIMD memcpy.",
      "revId": "0be0c97a9402be4689dfb1b6a4be1b772f9cc392",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "84c6db6c_9d80c7e1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1021512
      },
      "writtenOn": "2022-11-18T21:27:36Z",
      "side": 1,
      "message": "Per the discussion at https://github.com/ARM-software/optimized-routines/issues/46, ARM only recommends using their memcpy (and memmove) SVE routines.  The others are old and not optimized.  From what Szabolcz is saying there, once there are optimized SVE routines, those should be MTE-compatible but still faster, so they would take priority over the MTE routines.\n\nFor that reason, I guess I will make these two commits only build and use SVE memcpy and skip the others until those are optimized.",
      "revId": "0be0c97a9402be4689dfb1b6a4be1b772f9cc392",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "17229e7e_bf3d3671",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1021512
      },
      "writtenOn": "2022-11-18T21:32:43Z",
      "side": 1,
      "message": "Actually just realized you guys do not have SVE memcpy in your codebase yet because that was implemented after the last tagged release, so currently there is nothing to do here until a more recent release is integrated.  I\u0027ll ask when their next tag will be or if they have changed their release structure.",
      "parentUuid": "84c6db6c_9d80c7e1",
      "revId": "0be0c97a9402be4689dfb1b6a4be1b772f9cc392",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "668eac54_d71a4a03",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1021512
      },
      "writtenOn": "2022-12-20T05:22:26Z",
      "side": 1,
      "message": "Looking at /proc/cpuinfo of SM8475 (Snapdragon 8 Gen 1+), SVE is not reported.\nhttps://termbin.com/0de3\n\nThis is likely why Qualcomm uses BTI to trigger their kryo785 bionic (aka memcpy_neon from AOSP in 2015) at https://git.codelinaro.org/clo/la/platform/bionic/-/commit/7a24da08feedebfc4d6b2097cef945aa714d68c5.\n\nI know we are a bit out from Arm tagging AOR, but we will need to make sure cpuinfo/HWCAP are correct so the ifuncs take effect.  I am looking into why this is the case on this device.  The Linux kernel has commits such as https://android.googlesource.com/kernel/common.git/+/43994d824e8443263dc98b151e6326bf677be52e from quite some time ago that should be reporting SVE correctly.  I am looking into why this is not working on SM8475.  May or may not affect other vendors and chipsets.",
      "revId": "0be0c97a9402be4689dfb1b6a4be1b772f9cc392",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}