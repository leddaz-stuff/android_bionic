{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "eafd1013_4cfbf6e4",
        "filename": "libc/bionic/spawn.cpp",
        "patchSetId": 2
      },
      "lineNbr": 219,
      "author": {
        "id": 1268571
      },
      "writtenOn": "2023-04-05T19:51:54Z",
      "side": 1,
      "message": "pull this into kChildStackSize? or /* stack_size\u003d */",
      "range": {
        "startLine": 219,
        "startChar": 19,
        "endLine": 219,
        "endChar": 26
      },
      "revId": "a53c893eaa31bf9526e84c16c6b6ae61b5b47a4b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3a43d98e_7f4c8be0",
        "filename": "libc/bionic/spawn.cpp",
        "patchSetId": 2
      },
      "lineNbr": 219,
      "author": {
        "id": 1067098
      },
      "writtenOn": "2023-04-06T01:15:21Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "eafd1013_4cfbf6e4",
      "range": {
        "startLine": 219,
        "startChar": 19,
        "endLine": 219,
        "endChar": 26
      },
      "revId": "a53c893eaa31bf9526e84c16c6b6ae61b5b47a4b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7558cadd_e463fcb8",
        "filename": "libc/bionic/vforkrun.cpp",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1268571
      },
      "writtenOn": "2023-04-05T19:43:11Z",
      "side": 1,
      "message": "i think we should use runtime detection instead, with a weak def of `__hwasan_tag_memory`.\n\nconfirming that this is for the case where we did not clean up the tags for a pthread_exit that you talked about recently?",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 40,
        "endChar": 38
      },
      "revId": "a53c893eaa31bf9526e84c16c6b6ae61b5b47a4b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "05371e05_eda98fe9",
        "filename": "libc/bionic/vforkrun.cpp",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1268571
      },
      "writtenOn": "2023-04-05T19:46:09Z",
      "side": 1,
      "message": "ah, this is in libc. sorry. yes that\u0027s not necessary.",
      "parentUuid": "7558cadd_e463fcb8",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 40,
        "endChar": 38
      },
      "revId": "a53c893eaa31bf9526e84c16c6b6ae61b5b47a4b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a97f2bfa_b57dd2ab",
        "filename": "libc/bionic/vforkrun.cpp",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1067098
      },
      "writtenOn": "2023-04-05T19:52:08Z",
      "side": 1,
      "message": "Yes, it\u0027s for tag cleanup after running the thread, and it\u0027s analogous to the missing `__hwasan_tag_memory` call in `pthread_exit`.",
      "parentUuid": "7558cadd_e463fcb8",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 40,
        "endChar": 38
      },
      "revId": "a53c893eaa31bf9526e84c16c6b6ae61b5b47a4b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "128c6b0b_80f98100",
        "filename": "libc/bionic/vforkrun.cpp",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1268571
      },
      "writtenOn": "2023-04-05T19:56:02Z",
      "side": 1,
      "message": "right, i mean that this is for the case where the thread exists abnormally and fails to clean up the tags. if it returns normally it should already clean up after itself. maybe put that into a comment just for posterity.",
      "parentUuid": "a97f2bfa_b57dd2ab",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 40,
        "endChar": 38
      },
      "revId": "a53c893eaa31bf9526e84c16c6b6ae61b5b47a4b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c47939e6_57995d95",
        "filename": "libc/bionic/vforkrun.cpp",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1067098
      },
      "writtenOn": "2023-04-06T01:15:21Z",
      "side": 1,
      "message": "Done; as I\u0027ve observed in the comment, with `vforkrun()` the child will *normally* exit \"abnormally\".",
      "parentUuid": "128c6b0b_80f98100",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 40,
        "endChar": 38
      },
      "revId": "a53c893eaa31bf9526e84c16c6b6ae61b5b47a4b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}